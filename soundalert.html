<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üîä Sound Alert</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    #main-content, #footer-content {
      display: none;
    }
    #level-bar {
      transition: width 0.1s ease-out, background-color 0.2s linear;
    }
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏°‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå */
    #threshold-marker {
      transition: left 0.3s ease-in-out;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex flex-col justify-between">

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô -->
  <div id="loader" class="flex-grow flex items-center justify-center">
    <div class="text-center">
      <h2 class="text-2xl font-semibold text-gray-700">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</h2>
      <p id="loader-message" class="text-gray-500 mt-2">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
    </div>
  </div>

  <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô -->
  <main id="main-content" class="flex-grow flex items-center justify-center p-4">
    <div class="bg-white shadow-2xl rounded-2xl max-w-md w-full p-6 space-y-6">
      <h1 class="text-3xl font-bold text-center text-indigo-600">üîä Sound Alert</h1>

      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (dB)</label>
          <div class="flex items-center space-x-2">
            <input
              id="threshold-input"
              type="number"
              value="80"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300"
              min="10" max="120"
            />
            <button
              id="save-threshold-btn"
              onclick="saveThreshold()"
              class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition"
            >
              ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
            </button>
          </div>
           <p id="threshold-display" class="text-sm text-gray-500 mt-1">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∑‡∏≠: 80 dB</p>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
          <input
            id="email"
            type="email"
            class="w-full px-4 py-2 border rounded-lg bg-gray-100"
            readonly
          />
        </div>
      </div>

      <button
        id="toggle-btn"
        onclick="toggleMonitoring()"
        class="w-full py-3 bg-indigo-500 hover:bg-indigo-600 text-white font-semibold rounded-lg shadow-md transition"
      >
        ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
      </button>

      <div class="text-center space-y-3">
        <p id="level" class="text-4xl font-mono text-gray-800">-- dB</p>
        
        <!-- ‡πÅ‡∏ñ‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡∏°‡πà) -->
        <div class="relative w-full h-4">
          <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏ö -->
          <div class="absolute top-0 left-0 w-full h-full bg-gray-200 rounded-full"></div>
          <!-- ‡πÅ‡∏ñ‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß -->
          <div id="level-bar" class="absolute top-0 left-0 h-full rounded-full bg-green-500" style="width: 0%"></div>
          <!-- ‡πÄ‡∏™‡πâ‡∏ô‡∏°‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÅ‡∏™‡∏î‡∏á Threshold -->
          <div id="threshold-marker" class="absolute top-0 bottom-0 w-1 bg-black opacity-60 rounded-full" style="left: calc(80 / 120 * 100%);"></div>
        </div>

        <p id="status" class="text-lg font-medium h-6"></p>
      </div>
    </div>
  </main>

  <footer id="footer-content" class="text-center text-sm text-gray-500 py-4">
    ¬© NANGSYTECH
  </footer>

  <!-- JavaScript -->
  <script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbyUZsgCc1KxsZFckd3i9hPc83KUiLUbTJT6slGez1bvKZ96gvz8aOv2uydrlqjRmZdi/exec";

    // --- State Variables ---
    let isMonitoring = false;
    let audioCtx = null;
    let stream = null;
    let animationFrameId = null;
    let currentThreshold = 80;

    // --- DOM Elements ---
    const toggleBtn = document.getElementById("toggle-btn");
    const thresholdInput = document.getElementById("threshold-input");
    const saveThresholdBtn = document.getElementById("save-threshold-btn");
    const levelDisplay = document.getElementById("level");
    const levelBar = document.getElementById("level-bar");
    const statusDisplay = document.getElementById("status");
    const thresholdDisplay = document.getElementById("threshold-display");
    const thresholdMarker = document.getElementById("threshold-marker"); // Element ‡πÉ‡∏´‡∏°‡πà

    // --- Initial Setup ---
    window.onload = function() {
      // (‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
      const urlParams = new URLSearchParams(window.location.search);
      const token = urlParams.get('token');
      if (!token) { showError("‡πÑ‡∏°‡πà‡∏û‡∏ö Token", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"); return; }
      checkToken(token);
      updateThresholdVisuals(currentThreshold); // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå
    };

    /**
     * [‡πÉ‡∏´‡∏°‡πà] ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Threshold ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
     */
    function updateThresholdVisuals(threshold) {
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå
      const markerPosition = (threshold / 120) * 100;
      thresholdMarker.style.left = `calc(${markerPosition}% - 2px)`; // -2px ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏û‡∏≠‡∏î‡∏µ
      thresholdDisplay.textContent = `‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏∑‡∏≠: ${threshold} dB`;
    }

    /**
     * ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å Input field (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á)
     */
    function saveThreshold() {
      const newThreshold = parseInt(thresholdInput.value, 10);
      if (newThreshold >= 10 && newThreshold <= 120) {
        currentThreshold = newThreshold;
        updateThresholdVisuals(currentThreshold); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
        Swal.fire({
            icon: 'success', title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!',
            text: `‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô ${currentThreshold} dB`,
            toast: true, position: 'top-end', showConfirmButton: false, timer: 2000
        });
      } else {
        Swal.fire('‡∏Ñ‡πà‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 10 ‡∏ñ‡∏∂‡∏á 120 dB', 'error');
      }
    }

    /**
     * ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á)
     */
    function startMonitoring() {
      // (‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
      const email = document.getElementById("email").value.trim();
      if (!email) { alert("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ"); return; }
      isMonitoring = true;
      toggleBtn.textContent = "‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö";
      toggleBtn.classList.replace('bg-indigo-500', 'bg-red-500');
      toggleBtn.classList.replace('hover:bg-indigo-600', 'hover:bg-red-600');
      thresholdInput.disabled = true;
      saveThresholdBtn.disabled = true;
      statusDisplay.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô...";

      navigator.mediaDevices.getUserMedia({ audio: true }).then(mediaStream => {
        stream = mediaStream;
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const analyser = audioCtx.createAnalyser();
        const mic = audioCtx.createMediaStreamSource(stream);
        mic.connect(analyser);
        const dataArray = new Uint8Array(analyser.frequencyBinCount);
        let isLoud = false;
        let maxDuringLoud = 0;

        function analyze() {
          analyser.getByteFrequencyData(dataArray);
          const sum = dataArray.reduce((a, b) => a + b, 0);
          const avg = sum / dataArray.length;
          const dB = Math.round(avg / 255 * 120);
          
          levelDisplay.textContent = `${dB} dB`;
          const barPercentage = Math.min(100, (dB / 120) * 100);
          levelBar.style.width = `${barPercentage}%`;

          // [‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á] ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏ñ‡∏ö‡∏ï‡∏≤‡∏° Threshold
          if (dB > currentThreshold) {
            levelBar.className = 'absolute top-0 left-0 h-full rounded-full bg-red-500';
          } else {
            levelBar.className = 'absolute top-0 left-0 h-full rounded-full bg-green-500';
          }
          
          // (‡∏™‡πà‡∏ß‡∏ô Logic ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
          if (dB > currentThreshold) {
            if (!isLoud) {
              isLoud = true;
              maxDuringLoud = dB;
              statusDisplay.textContent = "‚ö†Ô∏è ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö!";
            } else {
              if (dB > maxDuringLoud) maxDuringLoud = dB;
            }
          } else {
            if (isLoud) {
              sendAlert(maxDuringLoud, email);
              statusDisplay.textContent = `üì® ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß (${maxDuringLoud} dB)`;
              isLoud = false;
              maxDuringLoud = 0;
            } else {
              statusDisplay.textContent = "‡∏õ‡∏Å‡∏ï‡∏¥";
            }
          }
          animationFrameId = requestAnimationFrame(analyze);
        }

        analyze();
      }).catch(err => {
        console.error(err);
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÇ‡∏ü‡∏ô‡πÑ‡∏î‡πâ");
        stopMonitoring();
      });
    }
    
    // (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    function toggleMonitoring() { if (isMonitoring) { stopMonitoring(); } else { startMonitoring(); } }
    function stopMonitoring() {
      if (animationFrameId) { cancelAnimationFrame(animationFrameId); }
      if (stream) { stream.getTracks().forEach(track => track.stop()); }
      if (audioCtx) { audioCtx.close(); }
      isMonitoring = false;
      toggleBtn.textContent = "‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á";
      toggleBtn.classList.replace('bg-red-500', 'bg-indigo-500');
      toggleBtn.classList.replace('hover:bg-red-600', 'hover:bg-indigo-600');
      thresholdInput.disabled = false;
      saveThresholdBtn.disabled = false;
      levelDisplay.textContent = "-- dB";
      statusDisplay.textContent = "";
      levelBar.style.width = "0%";
      levelBar.className = 'absolute top-0 left-0 h-full rounded-full bg-green-500';
    }
    function sendAlert(dB, email) { fetch(GAS_URL, { method: "POST", body: JSON.stringify({ action: "alert", dB, email }) }); }
    function showError(title, text) { const loader = document.getElementById('loader'); loader.querySelector('h2').textContent = title; loader.querySelector('p').textContent = text; loader.querySelector('h2').classList.add('text-red-500'); }
    async function checkToken(token) { try { const response = await fetch(GAS_URL, { method: "POST", body: JSON.stringify({ action: "checkToken", token: token }) }); const result = await response.json(); if (result.status === "success") { promptForEmail(token, result.email); } else { showError("Token ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"); } } catch (err) { showError("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ"); console.error(err); } }
    function promptForEmail(token, existingEmail) { Swal.fire({ title: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô', input: 'email', inputValue: existingEmail, inputPlaceholder: 'your@example.com', confirmButtonText: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô', allowOutsideClick: false, allowEscapeKey: false, inputValidator: (value) => { if (!value || !/^\S+@\S+\.\S+$/.test(value)) { return '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!' } } }).then((result) => { if (result.isConfirmed) { const email = result.value; saveEmail(token, email); } }); }
    async function saveEmail(token, email) { try { Swal.showLoading(); const response = await fetch(GAS_URL, { method: "POST", body: JSON.stringify({ action: "saveEmail", token: token, email: email }) }); const result = await response.json(); if (result.status === "success") { Swal.fire({ icon: 'success', title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', text: '‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß', timer: 2000, showConfirmButton: false }); document.getElementById('loader').style.display = 'none'; document.getElementById('main-content').style.display = 'flex'; document.getElementById('footer-content').style.display = 'block'; document.getElementById('email').value = email; } else { Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏î‡πâ', 'error'); } } catch (err) { Swal.fire('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', '‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß', 'error'); console.error(err); } }
  </script>
</body>

</html>

